# 📖 生产看板系统用户手册

## 🎯 系统介绍

生产看板系统是专为喷漆二工段设计的任务管理工具，帮助师傅们更好地分配和跟踪生产任务。

### 系统特点
- ✅ **操作简单** - 界面友好，易于上手
- ✅ **智能分配** - 自动推荐合适的师傅
- ✅ **离线使用** - 无需网络连接
- ✅ **数据安全** - 本地存储，数据不丢失

## 🚀 快速开始

### 系统部署方式

#### 方式一：U盘便携部署（推荐）

1. **准备U盘**
   - U盘容量：至少500MB
   - 格式化为NTFS或exFAT格式

2. **复制文件**
   ```
   U盘:/生产看板系统/
   ├── 应用文件/ (所有项目文件)
   ├── database/ (数据库目录，自动创建)
   ├── 启动.bat (Windows启动)
   ├── 启动.sh (Linux/Mac启动)
   └── 说明文档.txt (本文件)
   ```

3. **在目标电脑使用**
   - Windows: 双击"启动.bat"
   - Linux/Mac: 运行"./启动.sh"
   - 系统会自动在浏览器中打开

#### 方式二：内网服务器部署

1. **复制到服务器**
   ```bash
   # 复制整个目录到服务器
   scp -r 生产看板系统/ user@server:/opt/
   ```

2. **启动服务**
   ```bash
   cd /opt/生产看板系统/
   chmod +x 启动.sh
   ./启动.sh
   ```

3. **访问系统**
   - 本机访问: http://localhost:3000
   - 局域网访问: http://服务器IP:3000

### 第一次使用

1. **启动系统**
   - Windows电脑：双击 `启动.bat` 文件
   - 苹果电脑：双击 `启动.sh` 文件

2. **等待加载**
   - 系统会自动在浏览器中打开
   - 第一次启动可能需要1-2分钟

3. **检查师傅名单**
   - 系统已预置17名师傅
   - 可在"数据管理"中查看

## 📋 基本操作

### 导入任务数据

1. **准备Excel文件**
   - 支持 `.xlsx` 和 `.csv` 格式
   - 确保包含：产品名称、工时、师傅等信息

2. **导入步骤**
   ```
   点击"导入任务" → 选择文件 → 映射字段 → 预览数据 → 确认导入
   ```

3. **字段映射说明**
   - **产品名称**: 必填，产品的名称
   - **产品图号**: 选填，产品的编号
   - **工时**: 必填，预计需要的时间（分钟）
   - **师傅**: 选填，负责的师傅姓名
   - **架次号**: 必填，批次编号
   - **委托方**: 必填，委托单位
   - **委托时间**: 必填，委托日期

### 任务分配

#### 自动分配（推荐）
系统会根据历史记录自动推荐师傅：
- 🟢 **绿色任务条** - 已自动分配
- 🔴 **红色任务条** - 需要手动分配

#### 手动分配
1. 双击红色的任务条
2. 在弹出窗口中选择师傅
3. 点击"保存"确认

### 任务管理

#### 查看任务
- **师傅列表** - 左侧显示所有师傅
- **任务条** - 右侧显示分配给每个师傅的任务
- **任务长度** - 任务条长度代表工时长短

#### 任务状态
- **待处理** - 新导入的任务
- **进行中** - 正在执行的任务
- **已完成** - 完成的任务

#### 修改任务
1. 双击任务条
2. 修改相关信息
3. 点击"保存"

### 数据导出

1. **导出Excel**
   - 点击"导出Excel"按钮
   - 选择保存位置
   - 文件包含所有任务数据

2. **数据备份**
   - 点击"数据管理"
   - 选择"导出数据库"
   - 定期备份防止数据丢失

## 🔍 界面说明

### 主界面布局

```
┌─────────────────────────────────────────────────────┐
│ 🎯 系统标题    [导入任务] [导出Excel] [数据管理]      │
├─────────────────────────────────────────────────────┤
│ 📊 统计信息: 总任务 | 待分配 | 进行中 | 已完成       │
├─────────────────────────────────────────────────────┤
│ 师傅姓名     │ 任务条（长度=工时）                 │
│ 潘敏         │ ████████ ████ ██████               │
│ 黄尚斌       │ ██████ ████████ ████               │
│ 钱伟         │ ████ ██████ ████████               │
│ ...          │ ...                                │
└─────────────────────────────────────────────────────┘
```

### 任务条颜色说明

- 🔴 **红色** - 高优先级任务
- 🟡 **黄色** - 中等优先级任务
- 🟢 **绿色** - 低优先级任务
- ⚪ **红框** - 待分配任务

### 操作提示

- **单击任务条** - 查看任务详情
- **双击任务条** - 编辑任务信息
- **鼠标悬停** - 显示任务详细信息

## 🗄️ 数据库管理

### SQLite数据库位置
```
./database/production.db
```

### 数据备份
1. **手动备份**
   - 复制`database/production.db`文件
   - 建议定期备份到其他位置

2. **系统内备份**
   - 在系统中点击"导出数据"
   - 生成JSON格式的完整备份

3. **自动备份脚本**
   ```bash
   # 每日自动备份 (Linux/Mac)
   cp database/production.db backup/production_$(date +%Y%m%d).db
   ```

### 数据恢复
1. **从数据库文件恢复**
   - 停止系统
   - 替换`database/production.db`文件
   - 重启系统

2. **从JSON备份恢复**
   - 在系统中使用"导入数据"功能
   - 选择之前导出的JSON文件

### 系统配置要求

#### 环境要求
- **Node.js**: 版本16.0或以上
- **内存**: 最低512MB，推荐1GB
- **硬盘**: 最低100MB可用空间
- **浏览器**: Chrome/Firefox/Edge（现代浏览器）

#### 网络要求
- **完全离线运行**，无需网络连接
- 局域网部署时需要网络连接

#### 性能参考
- **小型使用** (< 1000任务): 任何现代电脑
- **中型使用** (1000-10000任务): 推荐4GB内存
- **大型使用** (> 10000任务): 推荐8GB内存，SSD硬盘

## 🔧 故障排除

### 系统无法启动

**问题**: 双击启动文件没有反应
**解决方法**:
1. 检查是否安装了Node.js
2. 右键选择"以管理员身份运行"
3. 检查杀毒软件是否阻止

### 数据库错误

**问题**: 数据库文件损坏
**解决方法**:
1. 从备份恢复production.db文件
2. 检查磁盘空间是否充足
3. 重新初始化数据库

### 端口占用

**问题**: 3000端口被其他程序占用
**解决方法**:
1. 关闭占用端口的程序
2. 修改配置文件中的端口号
3. 重新启动系统

### 权限错误

**问题**: 没有写入权限
**解决方法**:
1. 以管理员身份运行
2. 修改文件夹权限
3. 检查防火墙设置

### 数据导入失败

**问题**: Excel文件导入时出错
**解决方法**:
1. 检查文件格式是否正确（.xlsx或.csv）
2. 确保必填字段不为空
3. 检查数据格式是否正确

### 任务分配不准确

**问题**: 系统自动分配的师傅不合适
**解决方法**:
1. 手动重新分配任务
2. 系统会学习您的选择
3. 多次手动分配后，系统会越来越准确

### 数据丢失

**问题**: 任务数据不见了
**解决方法**:
1. 检查数据库文件是否存在
2. 从备份文件恢复数据
3. 重新导入原始Excel文件

## 💡 使用技巧

### 提高分配准确性
1. **初次使用** - 多进行手动分配
2. **产品图号** - 尽量填写完整的产品图号
3. **定期维护** - 及时更新师傅信息

### 数据管理
1. **定期备份** - 每周备份一次数据
2. **清理数据** - 定期清理过期任务
3. **监控存储** - 注意数据库文件大小

### 性能优化
1. **分批导入** - 大量数据分批导入
2. **关闭无用窗口** - 只保留必要的浏览器窗口
3. **定期重启** - 长时间使用后重启系统

## 📞 技术支持

### 自助解决
1. 查看 `说明文档.txt` 文件
2. 检查系统日志信息
3. 尝试重启系统

### 联系支持
- 技术支持邮箱: support@company.com
- 技术支持电话: 400-xxx-xxxx
- 工作时间: 周一至周五 9:00-17:00

### 常用文件位置
- 数据库文件: `database/production.db`
- 日志文件: `logs/application.log`
- 配置文件: `config/settings.json`

---

**手册版本**: v1.0.0
**更新日期**: 2025年7月18日
**适用版本**: 生产看板系统 v1.0.0+
